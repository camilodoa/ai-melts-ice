(this["webpackJsonpai.melts.ice"]=this["webpackJsonpai.melts.ice"]||[]).push([[0],{106:function(e,t,a){e.exports=a(182)},111:function(e,t,a){},182:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(38),l=a.n(c);a(111);function s(){return r.a.createElement("footer",{className:"footer m-3"},r.a.createElement("div",null,r.a.createElement("p",null,"Site and model made and trained with ",r.a.createElement("span",{role:"img","aria-label":"Heart"},"\u2764\ufe0f")," by ",r.a.createElement("a",{href:"https://camilodoa.ml"},"@camilodoa")),r.a.createElement("p",null,"Icon made by ",r.a.createElement("a",{href:"https://www.flaticon.com/authors/freepik",title:"Freepik"},"Freepik")," from ",r.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com"))))}var o=a(21),i=a.n(o),u=a(10),m=a(20),d=a(27),p=a.n(d),f=a(99),h=a.n(f),E=a(45),y=a(35),g=a(101),b=a(102),w=a(67),v=a(12);function j(e){var t=e.mindate,a=e.maxdate,c=e.fetchdatedata,l=e.settoday,s=Object(n.useState)(new Date),o=Object(u.a)(s,2),i=o[0],m=o[1];return r.a.createElement("div",null,r.a.createElement(h.a,{selected:i,onChange:function(e){return m(e)},dateFormat:"MM/yyyy",minDate:t,maxDate:a,placeholderText:"Select a month",showMonthYearPicker:!0})," ",r.a.createElement(O,{variable:i,fetch:c,setvariable:l}))}function x(e){var t=e.counties,a=e.fetchcountydata,c=e.sethere,l=Object(n.useState)(t.counties[0]),s=Object(u.a)(l,2),o=s[0],i=s[1];return r.a.createElement("div",null,r.a.createElement(w.a,{inline:!0,onSubmit:function(e){e.preventDefault(),a(o),c(o)}},r.a.createElement(w.a.Row,null,r.a.createElement(v.a,{xs:!0},r.a.createElement(w.a.Control,{className:"mr-sm-2",as:"select",value:o,onChange:function(e){return i(e.target.value)}},t.counties.map((function(e,t){return r.a.createElement("option",{key:"county"+t},e)})))),r.a.createElement(v.a,null,r.a.createElement(O,{variable:o,fetch:a,setvariable:c})))))}function O(e){var t=e.fetch,a=e.variable,c=e.setvariable,l=Object(n.useState)(!1),s=Object(u.a)(l,2),o=s[0],i=s[1];Object(n.useEffect)((function(){o&&(t(a).then((function(e){i(!1)})),c(a))}),[o,a]);return r.a.createElement(g.a,{variant:"outline-primary",className:"mr-1 non-resizing",type:"submit",disabled:o,onClick:o?null:function(){return i(!0)}},o?r.a.createElement(b.a,{as:"span",role:"status",animation:"border",variant:"primary",size:"sm"}):"Search")}var N=Object(m.f)((function(e){var t=e.mindate,a=e.maxdate,n=e.fetchdatedata,c=e.settoday,l=e.location,s=e.counties,o=e.fetchcountydata,i=e.sethere;return r.a.createElement(E.a,{bg:"light",expand:"lg",sticky:"top"},r.a.createElement(E.a.Brand,{href:"/"},r.a.createElement("img",{alt:"",src:p.a,width:"30",height:"30",className:"d-inline-block align-top"})," ","ai.melts.ice"),r.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(y.a,{className:"mr-auto"},r.a.createElement(y.a.Link,{href:"/"},"Map"),r.a.createElement(y.a.Link,{href:"/county"},"Arrests by County"),r.a.createElement(y.a.Link,{href:"/about"},"About"),r.a.createElement(y.a.Link,{href:"/safety"},"Safety"),r.a.createElement(y.a.Link,{href:"/donate"},"Donate")),"/"===l.pathname?r.a.createElement(j,{maxdate:a,mindate:t,fetchdatedata:n,settoday:c}):null,"/county"===l.pathname?r.a.createElement(x,{counties:s,fetchcountydata:o,sethere:i}):null))})),S=a(66),k=a.n(S),C="http://0.0.0.0:8080";function I(){var e=Object(n.useRef)(),t=Object(n.useState)(-96),a=Object(u.a)(t,1)[0],c=Object(n.useState)(40),l=Object(u.a)(c,1)[0],s=Object(n.useState)(2),o=Object(u.a)(s,1)[0];function m(e){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=(t=C+"/predict/<month>/<year>").replace("<month>",e.getMonth()+1).replace("<year>",e.getFullYear()),a.next=4,i.a.awrap(fetch(t).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){O(e)})).catch((function(e){return console.log(e)})));case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}}))}var d=Object(n.useState)(new Date(2015,1)),f=Object(u.a)(d,2),h=f[0],E=f[1],y=Object(n.useState)(new Date(2021,12)),g=Object(u.a)(y,2),b=g[0],w=g[1],v=Object(n.useState)(null),j=Object(u.a)(v,2),x=j[0],O=j[1],S=Object(n.useState)(new Date<=b?new Date:b),I=Object(u.a)(S,2),M=I[0],L=I[1];return Object(n.useEffect)((function(){!function(){var e;i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=C+"/dates",t.next=3,i.a.awrap(fetch(e).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){var t=e[0].split("-"),a=parseInt(t[0]),n=parseInt(t[1]),r=e[e.length-1].split("-"),c=parseInt(r[0]),l=parseInt(r[1]);return[new Date(a,n),new Date(c,l)]})).then((function(e){E(e[0]),w(e[1])})).catch((function(e){return console.log(e)})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))}(),m(M)}),[]),Object(n.useEffect)((function(){null!==x&&function(){var t=new k.a.Map({container:e,style:"mapbox://styles/mapbox/light-v10",center:[a,l],zoom:o});t.on("load",(function(){t.addSource("ai-melts-ice",{type:"geojson",data:x,cluster:!0,clusterMaxZoom:5,clusterRadius:60,clusterProperties:{arrests_sum:["+",["get","arrests"]]}}),t.addLayer({id:"cluster",type:"circle",source:"ai-melts-ice",filter:[">","arrests_sum",0],paint:{"circle-color":["step",["get","arrests_sum"],"#fce776",100,"#ec5300",500,"#aa1929"],"circle-radius":["step",["get","arrests_sum"],10,100,20,500,30],"circle-opacity":.8}}),t.addLayer({id:"cluster-count",type:"symbol",source:"ai-melts-ice",filter:[">","arrests_sum",0],layout:{"text-field":["get","arrests_sum"],"text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":["step",["get","arrests_sum"],10,100,15,500,25]}}),t.addLayer({id:"unclustered-point",type:"circle",source:"ai-melts-ice",filter:["all",["!has","point_count"],[">","arrests",0]],paint:{"circle-color":["step",["get","arrests"],"#fce776",100,"#ec5300",500,"#aa1929"],"circle-radius":["step",["get","arrests"],15,100,30,500,50],"circle-opacity":.8}}),t.addLayer({id:"unclustered-count",type:"symbol",source:"ai-melts-ice",filter:["all",["!has","point_count"],[">","arrests",0]],layout:{"text-field":["get","arrests"],"text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":["step",["get","arrests"],10,100,20,500,40]}}),t.on("click","cluster",(function(e){var a=t.queryRenderedFeatures(e.point,{layers:["cluster"]}),n=a[0].properties.cluster_id;t.getSource("ai-melts-ice").getClusterExpansionZoom(n,(function(e,n){e||t.easeTo({center:a[0].geometry.coordinates,zoom:n})}))})),t.on("mouseenter","cluster",(function(){t.getCanvas().style.cursor="pointer"})),t.on("mouseleave","cluster",(function(){t.getCanvas().style.cursor=""})),t.on("click","unclustered-point",(function(e){for(var a=e.features[0].geometry.coordinates.slice(),n=1===e.features[0].properties.arrests?'<div class="my-2"><strong>'+e.features[0].properties.county+"</strong><p>"+e.features[0].properties.arrests+" arrest</p></div>":'<div class="my-2"><strong>'+e.features[0].properties.county+"</strong><p>"+e.features[0].properties.arrests+" arrests</p></div>";Math.abs(e.lngLat.lng-a[0])>180;)a[0]+=e.lngLat.lng>a[0]?360:-360;(new k.a.Popup).setLngLat(a).setHTML(n).addTo(t)})),t.on("mouseenter","unclustered-point",(function(){t.getCanvas().style.cursor="pointer"})),t.on("mouseleave","unclustered-point",(function(){t.getCanvas().style.cursor=""}))}))}()}),[x]),r.a.createElement("div",null,r.a.createElement(N,{mindate:h,maxdate:b,fetchdatedata:m,settoday:L}),null===x?r.a.createElement("header",{className:"body"},r.a.createElement("img",{src:p.a,className:"logo",alt:"logo"}),r.a.createElement("p",null,"ai.melts.ice")):r.a.createElement("div",null,r.a.createElement("div",{className:"sidebarStyle"},r.a.createElement("div",null,["January","February","March","April","May","June","July","August","September","October","November","December"][M.getMonth()]," ",M.getFullYear())),r.a.createElement("div",{ref:function(t){return e=t},className:"mapContainer"})))}k.a.accessToken="pk.eyJ1IjoiY2FtaWxvZG9hIiwiYSI6ImNrNWJjbnNmcTB2em4zb3BrOGhpZjR3ZzIifQ.nCjfsuPE3tSayQ0O2z7u1Q";var M=a(25),L=a(26);function A(){return r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement("div",{className:"about"},r.a.createElement("h1",{className:"about-header my-3 mt-5"},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:p.a,className:"about-logo",alt:"logo"})),r.a.createElement("p",{className:"about-header my-3"},r.a.createElement("a",{href:"/"},"ai.melts.ice")),r.a.createElement("p",{className:"about-main"},"El pueblo unido jam\xe1s ser\xe1 vencido.")),r.a.createElement("main",{className:"about-main"},r.a.createElement(M.a,null,r.a.createElement(L.a,null,r.a.createElement(v.a,{sm:!0},r.a.createElement("p",null,r.a.createElement("a",{href:"/"},"ai.melts.ice")," is a web app designed to source and visualize predictions of ICE raids in the US by county. These predictions are generated by an LSTM neural network trained on data (2014 - 2018) from Syracuse's TRAC web API. Please keep in mind that any data shown past 2018 are predictions and may not be exact.")),r.a.createElement(v.a,{sm:!0},r.a.createElement("p",null,r.a.createElement("a",{href:"/"},"ai.melts.ice")," es una aplicaci\xf3n web dise\xf1ada para producir y visualizar predicciones de redadas de inmigrantes en los Estados Unidos por condado. Estas predicciones son generadas por una red neural LSTM basada en datos (2014 \u2013 2018) del web API TRAC de Syracuse. T\xe9ngase en cuenta que los datos despu\xe9s de 2018 son predicciones y pueden ser inexactos.")))))))}var T=a(46);function z(){var e=[["Prepare emergency plans","https://www.immigrantdefenseproject.org/emergency-preparedness/"],["Know your rights","https://www.immigrantdefenseproject.org/ice-home-and-community-arrests/"],["Learn more about ICE trends","https://www.immigrantdefenseproject.org/wp-content/uploads/ICEwatch-Trends-Report.pdf"],["Find safe community spaces","https://www.nolo.com/legal-encyclopedia/is-there-anywhere-i-m-safe-from-an-ice-arrest.html"],["Protect yourself during an immigration raid","https://www.aclutx.org/en/know-your-rights/how-protect-yourself-during-immigration-raid"],["Stay safe when ICE comes to your door","https://nationalimmigrationproject.org/iceWatch.html"]].map((function(e,t){return r.a.createElement(T.a.Item,{action:!0,key:"undocumented"+t,href:e[1],target:"blank"},r.a.createElement("h4",{className:"float-left"},e[0]))})),t=[["Find local options for protecting immigrants","https://www.ilrc.org/sites/default/files/resources/local_options-20161215.pdf"],["Help immigrants caught up in ICE raids","https://qz.com/1664310/how-to-help-immigrants-caught-up-in-ice-raids/"],["Tell congress to cut funding for ICE and CBP","https://www.afsc.org/action/cut-funding-ice-and-cbp"]].map((function(e,t){return r.a.createElement(T.a.Item,{action:!0,key:"ally"+t,href:e[1],target:"blank"},r.a.createElement("h4",{className:"float-left"},e[0]))}));return r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement("div",{className:"my-2"},r.a.createElement(M.a,null,r.a.createElement(L.a,{className:"justify-content-md-center"},r.a.createElement(v.a,null,r.a.createElement("h3",{className:"safety-main my-3 mx-5 pull-left"},r.a.createElement("p",null,"Helpful links if you are undocumented:")),r.a.createElement("main",{className:"mx-5"},r.a.createElement(T.a,null,e)))))),r.a.createElement("div",{className:"my-5"},r.a.createElement(M.a,null,r.a.createElement(L.a,{className:"justify-content-md-center"},r.a.createElement(v.a,null,r.a.createElement("h3",{className:"safety-main my-3 mx-5"},r.a.createElement("p",null,"Helpful links if you are are an ally:")),r.a.createElement("main",{className:"m-3 mx-5"},r.a.createElement(T.a,null,t)))))))}function D(){return r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(M.a,{className:"my-2"},r.a.createElement(L.a,{className:"justify-content-md-center"},r.a.createElement(v.a,null,r.a.createElement("h3",{className:" mx-5 text-center"},r.a.createElement("p",null,"If you want to help support hosting the site:")),r.a.createElement("main",{className:"mx-5"},r.a.createElement("embed",{height:"600px",width:"100%",src:"https://www.gofundme.com/mvc.php?route=widgets/mediawidget&fund=aimeltsice&image=1&preview=1",type:"text/html"}))))))}var F=a(31);function P(){function e(e){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=C+"/countydata/"+e.replace(" ","%20"),a.next=3,i.a.awrap(fetch(t).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){var t=e.data.map((function(e){return{x:new Date(e.date.split("-")[0],e.date.split("-")[1]),y:e.arrests}}));l(t),console.log(e)})).catch((function(e){return console.log(e)})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))}var t=Object(n.useState)(null),a=Object(u.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)({counties:["Accomack County, VA"]}),o=Object(u.a)(s,2),m=o[0],d=o[1],f=Object(n.useState)("Accomack County, VA"),h=Object(u.a)(f,2),E=h[0],y=h[1],g=Object(n.useState)(null),b=Object(u.a)(g,2),w=b[0],j=b[1],x=function(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var a=Object(n.useState)(t),r=Object(u.a)(a,2),c=r[0],l=r[1];return Object(n.useEffect)((function(){if(!e)return!1;function a(){l(t())}return window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}),[]),c}();return Object(n.useEffect)((function(){!function(){var e;i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=C+"/counties",t.next=3,i.a.awrap(fetch(e).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){d(e)})).catch((function(e){return console.log(e)})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))}(),e(E)}),[]),r.a.createElement("div",null,r.a.createElement(N,{counties:m,fetchcountydata:e,sethere:y}),null===c?r.a.createElement("header",{className:"body"},r.a.createElement("img",{src:p.a,className:"logo",alt:"logo"}),r.a.createElement("p",null,"ai.melts.ice")):r.a.createElement(M.a,{fluid:!0},r.a.createElement(L.a,{className:"align-items-md-center justify-content-md-center"},r.a.createElement(v.a,null,r.a.createElement("div",{className:"sidebarStyle"},E),r.a.createElement("div",{className:"mt-5"},r.a.createElement(F.f,{xType:"time",height:x.height-.1*x.height-50,width:x.width-50},r.a.createElement(F.b,null),r.a.createElement(F.d,null),r.a.createElement(F.g,{title:"Arrests"}),r.a.createElement(F.e,null),r.a.createElement(F.c,{onValueMouseOver:function(e){return j(e)},onValueMouseOut:function(e){return j(null)},data:c,color:"#4285F4",size:2}),w?r.a.createElement(F.a,{value:w}):null))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=a(84);a(181);l.a.render(r.a.createElement(J.a,null,r.a.createElement((function(e){return e.path,r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/"},r.a.createElement(I,null)),r.a.createElement(m.a,{path:"/about"},r.a.createElement(A,null)),r.a.createElement(m.a,{path:"/safety"},r.a.createElement(z,null)),r.a.createElement(m.a,{path:"/donate"},r.a.createElement(D,null)),r.a.createElement(m.a,{path:"/county"},r.a.createElement(P,null)))),r.a.createElement(s,null))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},27:function(e,t,a){e.exports=a.p+"static/media/logo.6408dacb.svg"}},[[106,1,2]]]);
//# sourceMappingURL=main.a69ebd10.chunk.js.map