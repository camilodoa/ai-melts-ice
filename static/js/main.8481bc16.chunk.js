(this["webpackJsonpai.melts.ice"]=this["webpackJsonpai.melts.ice"]||[]).push([[0],{108:function(e,t,a){e.exports=a(184)},113:function(e,t,a){},184:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(36),s=a.n(c),l=(a(113),a(21)),o=a.n(l),i=a(42),u=a(10),m=a(20),d=a(102),p=a.n(d),f=a(89),h=a(68),y=a(104),E=a(40),g=a(67),b=a(13),v=a(90),w=a(37),j=a.n(w);function x(e){var t=e.mindate,a=e.maxdate,c=e.fetchdatedata,s=e.settoday,l=(e.setexpanded,Object(n.useState)(new Date)),o=Object(u.a)(l,2),i=o[0],m=o[1];return r.a.createElement("div",null,r.a.createElement(p.a,{selected:i,onChange:function(e){m(e),c(e),s(e)},dateFormat:"MMMM yyyy",minDate:t,maxDate:a,placeholderText:"Select a month",showMonthYearPicker:!0}),r.a.createElement(v.a,{className:"mx-2",size:"1em"}))}function O(e){var t=e.counties,a=e.fetchcountydata,c=e.sethere,s=e.setexpanded,l=Object(n.useState)(t.counties[0]),o=Object(u.a)(l,2),i=o[0],m=o[1];return r.a.createElement("div",null,r.a.createElement(g.a,{inline:!0,onSubmit:function(e){e.preventDefault(),a(i),c(i)}},r.a.createElement(g.a.Row,null,r.a.createElement(b.a,{xs:!0},r.a.createElement(g.a.Control,{className:"mr-sm-2",as:"select",value:i,onChange:function(e){return m(e.target.value)}},t.counties.map((function(e,t){return r.a.createElement("option",{key:"county"+t},e)})))),r.a.createElement(b.a,null,r.a.createElement(N,{variable:i,fetch:a,setvariable:c,setexpanded:s})))))}function N(e){var t=e.fetch,a=e.variable,c=e.setvariable,s=e.setexpanded,l=Object(n.useState)(!1),o=Object(u.a)(l,2),i=o[0],m=o[1];Object(n.useEffect)((function(){i&&(t(a).then((function(e){m(!1)})),c(a),s(!1))}),[i,a]);return r.a.createElement(y.a,{variant:"outline-primary",className:"mr-1 mx-0 non-resizing",type:"submit",disabled:i,onClick:i?null:function(){return m(!0)}},i?r.a.createElement(E.a,{as:"span",role:"status",animation:"border",variant:"primary",size:"sm"}):r.a.createElement(v.a,null))}var S=Object(m.f)((function(e){var t=e.mindate,a=e.maxdate,c=e.fetchdatedata,s=e.settoday,l=e.location,o=e.counties,i=e.fetchcountydata,m=e.sethere,d=Object(n.useState)(!1),p=Object(u.a)(d,2),y=p[0],E=p[1];return r.a.createElement(f.a,{bg:"light",expand:"lg",sticky:"top",onToggle:E,expanded:y},r.a.createElement(f.a.Brand,{href:"/"},r.a.createElement("img",{src:j.a,className:"d-inline-block align-top",height:"30",width:"30",alt:"logo"})," ","AI Melts ICE"),r.a.createElement(h.a,{className:"ml-sm-auto ml-xs-0 my-2"},"/"===l.pathname?r.a.createElement(x,{maxdate:a,mindate:t,fetchdatedata:c,settoday:s,setexpanded:E}):null,"/county"===l.pathname?r.a.createElement(O,{counties:o,fetchcountydata:i,sethere:m,setexpanded:E}):null),r.a.createElement(h.a,{className:"ml-sm-auto ml-xs-0"},r.a.createElement(h.a.Link,{href:"/about"},"About")))})),k=a(66),I=a.n(k),C="https://ai-melts-ice.appspot.com";function M(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var a=Object(n.useState)(t),r=Object(u.a)(a,2),c=r[0],s=r[1];return Object(n.useEffect)((function(){if(!e)return!1;function a(){s(t())}return window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}),[]),c}function A(){var e=M(),t=Object(n.useRef)(),a=Object(n.useState)(-96),c=Object(u.a)(a,1)[0],s=Object(n.useState)(40),l=Object(u.a)(s,1)[0],m=Object(n.useState)(e.width<550?2:3.6),d=Object(u.a)(m,1)[0];function p(){return(p=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C+"/dates",e.next=3,fetch(t).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){var t=e[0].split("-"),a=parseInt(t[0]),n=parseInt(t[1]),r=e[e.length-1].split("-"),c=parseInt(r[0]),s=parseInt(r[1]);return[new Date(a,n),new Date(c,s)]})).then((function(e){v(e[0]),O(e[1])})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(a=C+"/predict/<month>/<year>").replace("<month>",t.getMonth()+1).replace("<year>",t.getFullYear()),e.next=4,fetch(a).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){z(e)})).catch((function(e){return console.log(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=Object(n.useState)(new Date(2015,1)),g=Object(u.a)(y,2),b=g[0],v=g[1],w=Object(n.useState)(new Date(2021,12)),j=Object(u.a)(w,2),x=j[0],O=j[1],N=Object(n.useState)(null),k=Object(u.a)(N,2),A=k[0],z=k[1],T=Object(n.useState)(new Date<=x?new Date:x),L=Object(u.a)(T,2),D=L[0],P=L[1];return Object(n.useEffect)((function(){!function(){p.apply(this,arguments)}(),f(D)}),[]),Object(n.useEffect)((function(){null!==A&&function(){var a=e.width<550?[30,100,40,500,50]:[30,100,40,500,60],n=[20,100,30,500,40],r=["#ffcc00",100,"#ff9966",500,"#cc3300"],s=new I.a.Map({container:t,style:"mapbox://styles/camilodoa/ck9xqloge1g0f1ipj4y85tkzh",center:[c,l],zoom:d});s.on("load",(function(){s.addSource("ai-melts-ice",{type:"geojson",data:A.data,cluster:!0,clusterMaxZoom:5,clusterRadius:60,clusterProperties:{arrests_sum:["+",["get","arrests"]]}}),s.addLayer({id:"cluster",type:"circle",source:"ai-melts-ice",filter:[">","arrests_sum",0],paint:{"circle-color":["step",["get","arrests_sum"],r[0],r[1],r[2],r[3],r[4]],"circle-radius":["step",["get","arrests_sum"],a[0],a[1],a[2],a[3],a[4]],"circle-opacity":.7}}),s.addLayer({id:"cluster-count",type:"symbol",source:"ai-melts-ice",filter:[">","arrests_sum",0],layout:{"text-field":["get","arrests_sum"],"text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":["step",["get","arrests_sum"],n[0],n[1],n[2],n[3],n[4]]}}),s.addLayer({id:"unclustered-point",type:"circle",source:"ai-melts-ice",filter:["all",["!has","point_count"],[">","arrests",0]],paint:{"circle-color":["step",["get","arrests"],r[0],r[1],r[2],r[3],r[4]],"circle-radius":["step",["get","arrests"],a[0],a[1],a[2],a[3],a[4]],"circle-opacity":.7}}),s.addLayer({id:"unclustered-count",type:"symbol",source:"ai-melts-ice",filter:["all",["!has","point_count"],[">","arrests",0]],layout:{"text-field":["get","arrests"],"text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":["step",["get","arrests"],n[0],n[1],n[2],n[3],n[4]]}}),s.on("click","cluster",(function(e){var t=s.queryRenderedFeatures(e.point,{layers:["cluster"]}),a=t[0].properties.cluster_id;s.getSource("ai-melts-ice").getClusterExpansionZoom(a,(function(e,a){e||s.easeTo({center:t[0].geometry.coordinates,zoom:a})}))})),s.on("mouseenter","cluster",(function(){s.getCanvas().style.cursor="pointer"})),s.on("mouseleave","cluster",(function(){s.getCanvas().style.cursor=""})),s.on("click","unclustered-point",(function(e){for(var t=e.features[0].geometry.coordinates.slice(),a=1===e.features[0].properties.arrests?'<div class="about-main py-2" style="line-height: 1.5;"><strong class="my-3">'+e.features[0].properties.county+'</strong><p class="my-3">'+e.features[0].properties.arrests+" arrest</p></div>":'<div class="about-main py-2" style="line-height: 1.5;"><strong class="my-3">'+e.features[0].properties.county+'</strong><p class="my-3">'+e.features[0].properties.arrests+" arrests</p></div>";Math.abs(e.lngLat.lng-t[0])>180;)t[0]+=e.lngLat.lng>t[0]?360:-360;(new I.a.Popup).setLngLat(t).setHTML(a).addTo(s)})),s.on("mouseenter","unclustered-point",(function(){s.getCanvas().style.cursor="pointer"})),s.on("mouseleave","unclustered-point",(function(){s.getCanvas().style.cursor=""}))}))}()}),[A]),r.a.createElement("div",null,r.a.createElement(S,{mindate:b,maxdate:x,fetchdatedata:f,settoday:P}),null===A?r.a.createElement("header",{className:"body"},r.a.createElement("p",null,"AI Melts ICE"),r.a.createElement(E.a,{animation:"grow",variant:"dark",role:"status"})):r.a.createElement("div",{className:"map"},r.a.createElement("div",{className:"sidebarStyle"},r.a.createElement("div",null,A?A.prediction?"Predicted arrests for ":"Arrests from ":null,["January","February","March","April","May","June","July","August","September","October","November","December"][D.getMonth()]," ",D.getFullYear())),r.a.createElement("div",{ref:function(e){return t=e},className:"mapContainer"})))}I.a.accessToken="pk.eyJ1IjoiY2FtaWxvZG9hIiwiYSI6ImNrNWJjbnNmcTB2em4zb3BrOGhpZjR3ZzIifQ.nCjfsuPE3tSayQ0O2z7u1Q";var z=a(31),T=a(32);function L(){return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("div",{className:"about"},r.a.createElement("h1",{className:"header my-3 mt-5"},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:j.a,className:"about-logo",alt:"logo"})),r.a.createElement("p",{className:"header my-3"},"AI Melts ICE"),r.a.createElement("p",{className:"about-main"},"El pueblo unido jam\xe1s ser\xe1 vencido.")),r.a.createElement("main",{className:"about-main"},r.a.createElement(z.a,null,r.a.createElement(T.a,null,r.a.createElement(b.a,{sm:!0},r.a.createElement("p",null,r.a.createElement("a",{href:"/"},"AI Melts ICE")," is a web app designed to source and visualize predictions of ICE raids in the US by county. These predictions are generated by an LSTM neural network trained on data (2014 - 2018) from Syracuse's ",r.a.createElement("a",{href:"https://trac.syr.edu/phptools/immigration/arrest/about_data.html"},"TRAC web API"),". Please keep in mind that  any data shown past 2018 are predictions and may not be exact.")),r.a.createElement(b.a,{sm:!0},r.a.createElement("p",null,r.a.createElement("a",{href:"/"},"AI Melts ICE")," es una aplicaci\xf3n web dise\xf1ada para producir y visualizar predicciones de redadas de inmigrantes en los Estados Unidos por condado. Estas predicciones son generadas por una red neural LSTM basada en datos (2014 \u2013 2018) del ",r.a.createElement("a",{href:"https://trac.syr.edu/phptools/immigration/arrest/about_data.html"},"web API TRAC")," de Syracuse. T\xe9ngase en cuenta que los datos despu\xe9s de 2018 son predicciones y pueden ser inexactos.")))))))}var D=a(46);function P(){var e=[["Prepare emergency plans","https://www.immigrantdefenseproject.org/emergency-preparedness/"],["Know your rights","https://www.immigrantdefenseproject.org/ice-home-and-community-arrests/"],["Learn more about ICE trends","https://www.immigrantdefenseproject.org/wp-content/uploads/ICEwatch-Trends-Report.pdf"],["Find safe community spaces","https://www.nolo.com/legal-encyclopedia/is-there-anywhere-i-m-safe-from-an-ice-arrest.html"],["Protect yourself during an immigration raid","https://www.aclutx.org/en/know-your-rights/how-protect-yourself-during-immigration-raid"],["Stay safe when ICE comes to your door","https://nationalimmigrationproject.org/iceWatch.html"]].map((function(e,t){return r.a.createElement(D.a.Item,{action:!0,key:"undocumented"+t,href:e[1],target:"blank"},r.a.createElement("h4",{className:"float-left"},e[0]))})),t=[["Find local options for protecting immigrants","https://www.ilrc.org/sites/default/files/resources/local_options-20161215.pdf"],["Help immigrants caught up in ICE raids","https://qz.com/1664310/how-to-help-immigrants-caught-up-in-ice-raids/"],["Tell congress to cut funding for ICE and CBP","https://www.afsc.org/action/cut-funding-ice-and-cbp"]].map((function(e,t){return r.a.createElement(D.a.Item,{action:!0,key:"ally"+t,href:e[1],target:"blank"},r.a.createElement("h4",{className:"float-left"},e[0]))}));return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("div",{className:"my-2"},r.a.createElement(z.a,null,r.a.createElement(T.a,{className:"justify-content-md-center"},r.a.createElement(b.a,null,r.a.createElement("h3",{className:"safety-main my-3 mx-5 pull-left"},r.a.createElement("p",null,"Helpful links if you are undocumented:")),r.a.createElement("main",{className:"mx-5"},r.a.createElement(D.a,null,e)))))),r.a.createElement("div",{className:"my-5"},r.a.createElement(z.a,null,r.a.createElement(T.a,{className:"justify-content-md-center"},r.a.createElement(b.a,null,r.a.createElement("h3",{className:"safety-main my-3 mx-5"},r.a.createElement("p",null,"Helpful links if you are are an ally:")),r.a.createElement("main",{className:"m-3 mx-5"},r.a.createElement(D.a,null,t)))))))}var _=a(28);function J(){function e(e){return t.apply(this,arguments)}function t(){return(t=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C+"/countydata/"+t.replace(" ","%20"),e.next=3,fetch(a).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){var t=e.data.map((function(e){return{x:new Date(e.date.split("-")[0],e.date.split("-")[1]),y:e.arrests}}));m(t)})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C+"/counties",e.next=3,fetch(t).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){h(e)})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=Object(n.useState)(null),s=Object(u.a)(c,2),l=s[0],m=s[1],d=Object(n.useState)({counties:["Accomack County, VA"]}),p=Object(u.a)(d,2),f=p[0],h=p[1],y=Object(n.useState)("Accomack County, VA"),g=Object(u.a)(y,2),v=g[0],w=g[1],x=Object(n.useState)(null),O=Object(u.a)(x,2),N=O[0],k=O[1],I=M();return Object(n.useEffect)((function(){!function(){a.apply(this,arguments)}(),e(v)}),[]),r.a.createElement("div",null,r.a.createElement(S,{counties:f,fetchcountydata:e,sethere:w}),null===l?r.a.createElement("header",{className:"body"},r.a.createElement("img",{src:j.a,className:"logo",alt:"logo"}),r.a.createElement("p",null,"ai.melts.ice"),r.a.createElement(E.a,{animation:"border",variant:"dark",role:"status"})):r.a.createElement(z.a,{fluid:!0},r.a.createElement(T.a,{className:"align-items-md-center justify-content-md-center"},r.a.createElement(b.a,null,r.a.createElement("div",{className:"sidebarStyle"},v),r.a.createElement("div",{className:"mt-5"},r.a.createElement(_.f,{xType:"time",height:I.height-.1*I.height-50,width:I.width-50},r.a.createElement(_.b,null),r.a.createElement(_.d,null),r.a.createElement(_.g,{title:"Arrests"}),r.a.createElement(_.e,null),r.a.createElement(_.c,{onValueMouseOver:function(e){return k(e)},onValueMouseOut:function(e){return k(null)},data:l,color:"#4285F4",size:2}),N?r.a.createElement(_.a,{value:N}):null))))))}function F(e){e.path;return r.a.createElement("div",{className:"App"},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/"},r.a.createElement(A,null)),r.a.createElement(m.a,{path:"/about"},r.a.createElement(L,null)),r.a.createElement(m.a,{path:"/safety"},r.a.createElement(P,null)),r.a.createElement(m.a,{path:"/county"},r.a.createElement(J,null))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(85);a(183);s.a.render(r.a.createElement(B.a,{basename:""},r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},37:function(e,t,a){e.exports=a.p+"static/media/logo512.ed261836.png"}},[[108,1,2]]]);
//# sourceMappingURL=main.8481bc16.chunk.js.map