(this["webpackJsonpai.melts.ice"]=this["webpackJsonpai.melts.ice"]||[]).push([[0],{108:function(e,t,a){e.exports=a(187)},113:function(e,t,a){},187:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(37),l=a.n(c);a(113);function s(){return r.a.createElement("footer",{className:"footer m-3"},r.a.createElement("div",null,r.a.createElement("p",null,"Site and model made and trained with ",r.a.createElement("span",{role:"img","aria-label":"Heart"},"\u2764\ufe0f")),r.a.createElement("p",null,"Icon made by ",r.a.createElement("a",{href:"https://www.flaticon.com/authors/freepik",title:"Freepik"},"Freepik")," from ",r.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com"))))}var o=a(21),i=a.n(o),u=a(42),m=a(10),d=a(16),p=a(25),f=a.n(p),h=a(103),E=a.n(h),y=a(49),b=a(44),g=a(105),v=a(40),w=a(71),j=a(14),O=a(48),x=a.n(O);function N(e){var t=e.mindate,a=e.maxdate,c=e.fetchdatedata,l=e.settoday,s=e.setexpanded,o=Object(n.useState)(new Date),i=Object(m.a)(o,2),u=i[0],d=i[1];return r.a.createElement("div",null,r.a.createElement(E.a,{selected:u,onChange:function(e){return d(e)},dateFormat:"MM/yyyy",minDate:t,maxDate:a,placeholderText:"Select a month",showMonthYearPicker:!0})," ",r.a.createElement(k,{variable:u,fetch:c,setvariable:l,setexpanded:s}))}function S(e){var t=e.counties,a=e.fetchcountydata,c=e.sethere,l=e.setexpanded,s=Object(n.useState)(t.counties[0]),o=Object(m.a)(s,2),i=o[0],u=o[1];return r.a.createElement("div",null,r.a.createElement(w.a,{inline:!0,onSubmit:function(e){e.preventDefault(),a(i),c(i)}},r.a.createElement(w.a.Row,null,r.a.createElement(j.a,{xs:!0},r.a.createElement(w.a.Control,{className:"mr-sm-2",as:"select",value:i,onChange:function(e){return u(e.target.value)}},t.counties.map((function(e,t){return r.a.createElement("option",{key:"county"+t},e)})))),r.a.createElement(j.a,null,r.a.createElement(k,{variable:i,fetch:a,setvariable:c,setexpanded:l})))))}function k(e){var t=e.fetch,a=e.variable,c=e.setvariable,l=e.setexpanded,s=Object(n.useState)(!1),o=Object(m.a)(s,2),i=o[0],u=o[1];Object(n.useEffect)((function(){i&&(t(a).then((function(e){u(!1)})),c(a),l(!1))}),[i,a]);return r.a.createElement(g.a,{variant:"outline-primary",className:"mr-1 non-resizing",type:"submit",disabled:i,onClick:i?null:function(){return u(!0)}},i?r.a.createElement(v.a,{as:"span",role:"status",animation:"border",variant:"primary",size:"sm"}):"Search")}var C=Object(d.withRouter)((function(e){var t=e.mindate,a=e.maxdate,c=e.fetchdatedata,l=e.settoday,s=e.location,o=e.counties,i=e.fetchcountydata,u=e.sethere,d=Object(n.useState)(!1),p=Object(m.a)(d,2),h=p[0],E=p[1];return r.a.createElement(y.a,{bg:"light",expand:"lg",sticky:"top",onToggle:E,expanded:h},r.a.createElement(y.a.Brand,{href:"/"},r.a.createElement("img",{alt:"",src:f.a,width:"30",height:"30",className:"d-inline-block align-top"})," ","ai.melts.ice"),r.a.createElement(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(y.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(b.a,{className:"mr-auto"},r.a.createElement(b.a.Link,null,r.a.createElement(x.a,{to:"/"},"Map")),r.a.createElement(b.a.Link,null,r.a.createElement(x.a,{to:"/county"},"Arrests by County")),r.a.createElement(b.a.Link,null,r.a.createElement(x.a,{to:"/about"},"About")),r.a.createElement(b.a.Link,null,r.a.createElement(x.a,{to:"/safety"},"Safety"))),"/"===s.pathname?r.a.createElement(N,{maxdate:a,mindate:t,fetchdatedata:c,settoday:l,setexpanded:E}):null,"/county"===s.pathname?r.a.createElement(S,{counties:o,fetchcountydata:i,sethere:u,setexpanded:E}):null))})),I=a(70),M=a.n(I),L="https://ai-melts-ice.appspot.com";function T(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var a=Object(n.useState)(t),r=Object(m.a)(a,2),c=r[0],l=r[1];return Object(n.useEffect)((function(){if(!e)return!1;function a(){l(t())}return window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}),[]),c}function A(){var e=T(),t=Object(n.useRef)(),a=Object(n.useState)(-96),c=Object(m.a)(a,1)[0],l=Object(n.useState)(40),s=Object(m.a)(l,1)[0],o=Object(n.useState)(e.width<550?2:3),d=Object(m.a)(o,1)[0];function p(){return(p=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=L+"/dates",e.next=3,fetch(t).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){var t=e[0].split("-"),a=parseInt(t[0]),n=parseInt(t[1]),r=e[e.length-1].split("-"),c=parseInt(r[0]),l=parseInt(r[1]);return[new Date(a,n),new Date(c,l)]})).then((function(e){w(e[0]),N(e[1])})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(a=L+"/predict/<month>/<year>").replace("<month>",t.getMonth()+1).replace("<year>",t.getFullYear()),e.next=4,fetch(a).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){A(e)})).catch((function(e){return console.log(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=Object(n.useState)(new Date(2015,1)),b=Object(m.a)(y,2),g=b[0],w=b[1],j=Object(n.useState)(new Date(2021,12)),O=Object(m.a)(j,2),x=O[0],N=O[1],S=Object(n.useState)(null),k=Object(m.a)(S,2),I=k[0],A=k[1],z=Object(n.useState)(new Date<=x?new Date:x),D=Object(m.a)(z,2),R=D[0],F=D[1];return Object(n.useEffect)((function(){!function(){p.apply(this,arguments)}(),h(R)}),[]),Object(n.useEffect)((function(){null!==I&&function(){var e=new M.a.Map({container:t,style:"mapbox://styles/mapbox/light-v10",center:[c,s],zoom:d});e.on("load",(function(){e.addSource("ai-melts-ice",{type:"geojson",data:I,cluster:!0,clusterMaxZoom:5,clusterRadius:60,clusterProperties:{arrests_sum:["+",["get","arrests"]]}}),e.addLayer({id:"cluster",type:"circle",source:"ai-melts-ice",filter:[">","arrests_sum",0],paint:{"circle-color":["step",["get","arrests_sum"],"#fce776",100,"#ec5300",500,"#aa1929"],"circle-radius":["step",["get","arrests_sum"],10,100,20,500,30],"circle-opacity":.8}}),e.addLayer({id:"cluster-count",type:"symbol",source:"ai-melts-ice",filter:[">","arrests_sum",0],layout:{"text-field":["get","arrests_sum"],"text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":["step",["get","arrests_sum"],10,100,15,500,25]}}),e.addLayer({id:"unclustered-point",type:"circle",source:"ai-melts-ice",filter:["all",["!has","point_count"],[">","arrests",0]],paint:{"circle-color":["step",["get","arrests"],"#fce776",100,"#ec5300",500,"#aa1929"],"circle-radius":["step",["get","arrests"],15,100,30,500,50],"circle-opacity":.8}}),e.addLayer({id:"unclustered-count",type:"symbol",source:"ai-melts-ice",filter:["all",["!has","point_count"],[">","arrests",0]],layout:{"text-field":["get","arrests"],"text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":["step",["get","arrests"],10,100,20,500,40]}}),e.on("click","cluster",(function(t){var a=e.queryRenderedFeatures(t.point,{layers:["cluster"]}),n=a[0].properties.cluster_id;e.getSource("ai-melts-ice").getClusterExpansionZoom(n,(function(t,n){t||e.easeTo({center:a[0].geometry.coordinates,zoom:n})}))})),e.on("mouseenter","cluster",(function(){e.getCanvas().style.cursor="pointer"})),e.on("mouseleave","cluster",(function(){e.getCanvas().style.cursor=""})),e.on("click","unclustered-point",(function(t){for(var a=t.features[0].geometry.coordinates.slice(),n=1===t.features[0].properties.arrests?'<div class="my-2"><strong>'+t.features[0].properties.county+"</strong><p>"+t.features[0].properties.arrests+" arrest</p></div>":'<div class="my-2"><strong>'+t.features[0].properties.county+"</strong><p>"+t.features[0].properties.arrests+" arrests</p></div>";Math.abs(t.lngLat.lng-a[0])>180;)a[0]+=t.lngLat.lng>a[0]?360:-360;(new M.a.Popup).setLngLat(a).setHTML(n).addTo(e)})),e.on("mouseenter","unclustered-point",(function(){e.getCanvas().style.cursor="pointer"})),e.on("mouseleave","unclustered-point",(function(){e.getCanvas().style.cursor=""}))}))}()}),[I]),r.a.createElement("div",null,r.a.createElement(C,{mindate:g,maxdate:x,fetchdatedata:h,settoday:F}),null===I?r.a.createElement("header",{className:"body"},r.a.createElement("img",{src:f.a,className:"logo",alt:"logo"}),r.a.createElement("p",null,"ai.melts.ice"),r.a.createElement(v.a,{animation:"border",variant:"dark",role:"status"})):r.a.createElement("div",null,r.a.createElement("div",{className:"sidebarStyle"},r.a.createElement("div",null,["January","February","March","April","May","June","July","August","September","October","November","December"][R.getMonth()]," ",R.getFullYear())),r.a.createElement("div",{ref:function(e){return t=e},className:"mapContainer"})))}M.a.accessToken="pk.eyJ1IjoiY2FtaWxvZG9hIiwiYSI6ImNrNWJjbnNmcTB2em4zb3BrOGhpZjR3ZzIifQ.nCjfsuPE3tSayQ0O2z7u1Q";var z=a(32),D=a(33);function R(){return r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement("div",{className:"about"},r.a.createElement("h1",{className:"about-header my-3 mt-5"},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:f.a,className:"about-logo",alt:"logo"})),r.a.createElement("p",{className:"about-header my-3"},r.a.createElement("a",{href:"/"},"ai.melts.ice")),r.a.createElement("p",{className:"about-main"},"El pueblo unido jam\xe1s ser\xe1 vencido.")),r.a.createElement("main",{className:"about-main"},r.a.createElement(z.a,null,r.a.createElement(D.a,null,r.a.createElement(j.a,{sm:!0},r.a.createElement("p",null,r.a.createElement("a",{href:"/"},"ai.melts.ice")," is a web app designed to source and visualize predictions of ICE raids in the US by county. These predictions are generated by an LSTM neural network trained on data (2014 - 2018) from Syracuse's TRAC web API. Please keep in mind that any data shown past 2018 are predictions and may not be exact.")),r.a.createElement(j.a,{sm:!0},r.a.createElement("p",null,r.a.createElement("a",{href:"/"},"ai.melts.ice")," es una aplicaci\xf3n web dise\xf1ada para producir y visualizar predicciones de redadas de inmigrantes en los Estados Unidos por condado. Estas predicciones son generadas por una red neural LSTM basada en datos (2014 \u2013 2018) del web API TRAC de Syracuse. T\xe9ngase en cuenta que los datos despu\xe9s de 2018 son predicciones y pueden ser inexactos.")))))))}var F=a(50);function P(){var e=[["Prepare emergency plans","https://www.immigrantdefenseproject.org/emergency-preparedness/"],["Know your rights","https://www.immigrantdefenseproject.org/ice-home-and-community-arrests/"],["Learn more about ICE trends","https://www.immigrantdefenseproject.org/wp-content/uploads/ICEwatch-Trends-Report.pdf"],["Find safe community spaces","https://www.nolo.com/legal-encyclopedia/is-there-anywhere-i-m-safe-from-an-ice-arrest.html"],["Protect yourself during an immigration raid","https://www.aclutx.org/en/know-your-rights/how-protect-yourself-during-immigration-raid"],["Stay safe when ICE comes to your door","https://nationalimmigrationproject.org/iceWatch.html"]].map((function(e,t){return r.a.createElement(F.a.Item,{action:!0,key:"undocumented"+t,href:e[1],target:"blank"},r.a.createElement("h4",{className:"float-left"},e[0]))})),t=[["Find local options for protecting immigrants","https://www.ilrc.org/sites/default/files/resources/local_options-20161215.pdf"],["Help immigrants caught up in ICE raids","https://qz.com/1664310/how-to-help-immigrants-caught-up-in-ice-raids/"],["Tell congress to cut funding for ICE and CBP","https://www.afsc.org/action/cut-funding-ice-and-cbp"]].map((function(e,t){return r.a.createElement(F.a.Item,{action:!0,key:"ally"+t,href:e[1],target:"blank"},r.a.createElement("h4",{className:"float-left"},e[0]))}));return r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement("div",{className:"my-2"},r.a.createElement(z.a,null,r.a.createElement(D.a,{className:"justify-content-md-center"},r.a.createElement(j.a,null,r.a.createElement("h3",{className:"safety-main my-3 mx-5 pull-left"},r.a.createElement("p",null,"Helpful links if you are undocumented:")),r.a.createElement("main",{className:"mx-5"},r.a.createElement(F.a,null,e)))))),r.a.createElement("div",{className:"my-5"},r.a.createElement(z.a,null,r.a.createElement(D.a,{className:"justify-content-md-center"},r.a.createElement(j.a,null,r.a.createElement("h3",{className:"safety-main my-3 mx-5"},r.a.createElement("p",null,"Helpful links if you are are an ally:")),r.a.createElement("main",{className:"m-3 mx-5"},r.a.createElement(F.a,null,t)))))))}var J=a(29);function _(){function e(e){return t.apply(this,arguments)}function t(){return(t=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=L+"/countydata/"+t.replace(" ","%20"),e.next=3,fetch(a).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){var t=e.data.map((function(e){return{x:new Date(e.date.split("-")[0],e.date.split("-")[1]),y:e.arrests}}));o(t)})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=L+"/counties",e.next=3,fetch(t).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){E(e)})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=Object(n.useState)(null),l=Object(m.a)(c,2),s=l[0],o=l[1],d=Object(n.useState)({counties:["Accomack County, VA"]}),p=Object(m.a)(d,2),h=p[0],E=p[1],y=Object(n.useState)("Accomack County, VA"),b=Object(m.a)(y,2),g=b[0],w=b[1],O=Object(n.useState)(null),x=Object(m.a)(O,2),N=x[0],S=x[1],k=T();return Object(n.useEffect)((function(){!function(){a.apply(this,arguments)}(),e(g)}),[]),r.a.createElement("div",null,r.a.createElement(C,{counties:h,fetchcountydata:e,sethere:w}),null===s?r.a.createElement("header",{className:"body"},r.a.createElement("img",{src:f.a,className:"logo",alt:"logo"}),r.a.createElement("p",null,"ai.melts.ice"),r.a.createElement(v.a,{animation:"border",variant:"dark",role:"status"})):r.a.createElement(z.a,{fluid:!0},r.a.createElement(D.a,{className:"align-items-md-center justify-content-md-center"},r.a.createElement(j.a,null,r.a.createElement("div",{className:"sidebarStyle"},g),r.a.createElement("div",{className:"mt-5"},r.a.createElement(J.f,{xType:"time",height:k.height-.1*k.height-50,width:k.width-50},r.a.createElement(J.b,null),r.a.createElement(J.d,null),r.a.createElement(J.g,{title:"Arrests"}),r.a.createElement(J.e,null),r.a.createElement(J.c,{onValueMouseOver:function(e){return S(e)},onValueMouseOut:function(e){return S(null)},data:s,color:"#4285F4",size:2}),N?r.a.createElement(J.a,{value:N}):null))))))}function B(e){e.path;return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(d.Switch,null,r.a.createElement(d.Route,{exact:!0,path:"/"},r.a.createElement(A,null)),r.a.createElement(d.Route,{path:"/about"},r.a.createElement(R,null)),r.a.createElement(d.Route,{path:"/safety"},r.a.createElement(P,null)),r.a.createElement(d.Route,{path:"/county"},r.a.createElement(_,null)))),r.a.createElement(s,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=a(87);a(186);l.a.render(r.a.createElement(H.a,{basename:""},r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},25:function(e,t,a){e.exports=a.p+"static/media/logo.6408dacb.svg"}},[[108,1,2]]]);
//# sourceMappingURL=main.e16ccb67.chunk.js.map