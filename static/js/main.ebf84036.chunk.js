(this["webpackJsonpai.melts.ice"]=this["webpackJsonpai.melts.ice"]||[]).push([[0],{107:function(e,t,a){e.exports=a(183)},112:function(e,t,a){},183:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(36),s=a.n(c);a(112);var l=a(21),o=a.n(l),i=a(41),u=a(10),m=a(20),d=a(101),p=a.n(d),f=a(46),h=a(89),y=a(103),E=a(39),g=a(68),b=a(13);function v(e){var t=e.mindate,a=e.maxdate,c=e.fetchdatedata,s=e.settoday,l=e.setexpanded,o=Object(n.useState)(new Date),i=Object(u.a)(o,2),m=i[0],d=i[1];return r.a.createElement("div",null,r.a.createElement(p.a,{selected:m,onChange:function(e){return d(e)},dateFormat:"MM/yyyy",minDate:t,maxDate:a,placeholderText:"Select a month",showMonthYearPicker:!0})," ",r.a.createElement(j,{variable:m,fetch:c,setvariable:s,setexpanded:l}))}function w(e){var t=e.counties,a=e.fetchcountydata,c=e.sethere,s=e.setexpanded,l=Object(n.useState)(t.counties[0]),o=Object(u.a)(l,2),i=o[0],m=o[1];return r.a.createElement("div",null,r.a.createElement(g.a,{inline:!0,onSubmit:function(e){e.preventDefault(),a(i),c(i)}},r.a.createElement(g.a.Row,null,r.a.createElement(b.a,{xs:!0},r.a.createElement(g.a.Control,{className:"mr-sm-2",as:"select",value:i,onChange:function(e){return m(e.target.value)}},t.counties.map((function(e,t){return r.a.createElement("option",{key:"county"+t},e)})))),r.a.createElement(b.a,null,r.a.createElement(j,{variable:i,fetch:a,setvariable:c,setexpanded:s})))))}function j(e){var t=e.fetch,a=e.variable,c=e.setvariable,s=e.setexpanded,l=Object(n.useState)(!1),o=Object(u.a)(l,2),i=o[0],m=o[1];Object(n.useEffect)((function(){i&&(t(a).then((function(e){m(!1)})),c(a),s(!1))}),[i,a]);return r.a.createElement(y.a,{variant:"outline-primary",className:"mr-1 non-resizing",type:"submit",disabled:i,onClick:i?null:function(){return m(!0)}},i?r.a.createElement(E.a,{as:"span",role:"status",animation:"border",variant:"primary",size:"sm"}):"Search")}var O=Object(m.f)((function(e){var t=e.mindate,a=e.maxdate,c=e.fetchdatedata,s=e.settoday,l=e.location,o=e.counties,i=e.fetchcountydata,m=e.sethere,d=Object(n.useState)(!1),p=Object(u.a)(d,2),y=p[0],E=p[1];return r.a.createElement(f.a,{bg:"light",expand:"lg",sticky:"top",onToggle:E,expanded:y},r.a.createElement(f.a.Brand,{href:"/"},"AI Melts ICE"),r.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(h.a,{className:"mr-auto"},r.a.createElement(h.a.Link,{href:"/about"},"About")),"/"===l.pathname?r.a.createElement(v,{maxdate:a,mindate:t,fetchdatedata:c,settoday:s,setexpanded:E}):null,"/county"===l.pathname?r.a.createElement(w,{counties:o,fetchcountydata:i,sethere:m,setexpanded:E}):null))})),x=a(45),N=a.n(x),S=a(67),k=a.n(S),I="https://ai-melts-ice.appspot.com";function C(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var a=Object(n.useState)(t),r=Object(u.a)(a,2),c=r[0],s=r[1];return Object(n.useEffect)((function(){if(!e)return!1;function a(){s(t())}return window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}),[]),c}function M(){var e=C(),t=Object(n.useRef)(),a=Object(n.useState)(-96),c=Object(u.a)(a,1)[0],s=Object(n.useState)(40),l=Object(u.a)(s,1)[0],m=Object(n.useState)(e.width<550?2:3),d=Object(u.a)(m,1)[0];function p(){return(p=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I+"/dates",e.next=3,fetch(t).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){var t=e[0].split("-"),a=parseInt(t[0]),n=parseInt(t[1]),r=e[e.length-1].split("-"),c=parseInt(r[0]),s=parseInt(r[1]);return[new Date(a,n),new Date(c,s)]})).then((function(e){v(e[0]),N(e[1])})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(a=I+"/predict/<month>/<year>").replace("<month>",t.getMonth()+1).replace("<year>",t.getFullYear()),e.next=4,fetch(a).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){T(e)})).catch((function(e){return console.log(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=Object(n.useState)(new Date(2015,1)),g=Object(u.a)(y,2),b=g[0],v=g[1],w=Object(n.useState)(new Date(2021,12)),j=Object(u.a)(w,2),x=j[0],N=j[1],S=Object(n.useState)(null),M=Object(u.a)(S,2),A=M[0],T=M[1],z=Object(n.useState)(new Date<=x?new Date:x),L=Object(u.a)(z,2),D=L[0],P=L[1];return Object(n.useEffect)((function(){!function(){p.apply(this,arguments)}(),f(D)}),[]),Object(n.useEffect)((function(){null!==A&&function(){var a=e.width<550?[30,100,40,500,50]:[30,100,40,500,60],n=[20,100,30,500,40],r=["#ffcc00",100,"#ff9966",500,"#cc3300"],s=new k.a.Map({container:t,style:"mapbox://styles/camilodoa/ck9xqloge1g0f1ipj4y85tkzh",center:[c,l],zoom:d});s.on("load",(function(){s.addSource("ai-melts-ice",{type:"geojson",data:A,cluster:!0,clusterMaxZoom:5,clusterRadius:60,clusterProperties:{arrests_sum:["+",["get","arrests"]]}}),s.addLayer({id:"cluster",type:"circle",source:"ai-melts-ice",filter:[">","arrests_sum",0],paint:{"circle-color":["step",["get","arrests_sum"],r[0],r[1],r[2],r[3],r[4]],"circle-radius":["step",["get","arrests_sum"],a[0],a[1],a[2],a[3],a[4]],"circle-opacity":.7}}),s.addLayer({id:"cluster-count",type:"symbol",source:"ai-melts-ice",filter:[">","arrests_sum",0],layout:{"text-field":["get","arrests_sum"],"text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":["step",["get","arrests_sum"],n[0],n[1],n[2],n[3],n[4]]}}),s.addLayer({id:"unclustered-point",type:"circle",source:"ai-melts-ice",filter:["all",["!has","point_count"],[">","arrests",0]],paint:{"circle-color":["step",["get","arrests"],r[0],r[1],r[2],r[3],r[4]],"circle-radius":["step",["get","arrests"],a[0],a[1],a[2],a[3],a[4]],"circle-opacity":.7}}),s.addLayer({id:"unclustered-count",type:"symbol",source:"ai-melts-ice",filter:["all",["!has","point_count"],[">","arrests",0]],layout:{"text-field":["get","arrests"],"text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":["step",["get","arrests"],n[0],n[1],n[2],n[3],n[4]]}}),s.on("click","cluster",(function(e){var t=s.queryRenderedFeatures(e.point,{layers:["cluster"]}),a=t[0].properties.cluster_id;s.getSource("ai-melts-ice").getClusterExpansionZoom(a,(function(e,a){e||s.easeTo({center:t[0].geometry.coordinates,zoom:a})}))})),s.on("mouseenter","cluster",(function(){s.getCanvas().style.cursor="pointer"})),s.on("mouseleave","cluster",(function(){s.getCanvas().style.cursor=""})),s.on("click","unclustered-point",(function(e){for(var t=e.features[0].geometry.coordinates.slice(),a=1===e.features[0].properties.arrests?'<div class="about-main py-2" style="line-height: 1.5;"><strong class="my-3">'+e.features[0].properties.county+'</strong><p class="my-3">'+e.features[0].properties.arrests+" arrest.</p></div>":'<div class="about-main py-2" style="line-height: 1.5;"><strong class="my-3">'+e.features[0].properties.county+'</strong><p class="my-3">'+e.features[0].properties.arrests+" arrests.</p></div>";Math.abs(e.lngLat.lng-t[0])>180;)t[0]+=e.lngLat.lng>t[0]?360:-360;(new k.a.Popup).setLngLat(t).setHTML(a).addTo(s)})),s.on("mouseenter","unclustered-point",(function(){s.getCanvas().style.cursor="pointer"})),s.on("mouseleave","unclustered-point",(function(){s.getCanvas().style.cursor=""}))}))}()}),[A]),r.a.createElement("div",null,r.a.createElement(O,{mindate:b,maxdate:x,fetchdatedata:f,settoday:P}),null===A?r.a.createElement("header",{className:"body"},r.a.createElement("p",null,"AI Melts ICE"),r.a.createElement(E.a,{animation:"grow",variant:"dark",role:"status"})):r.a.createElement("div",{className:"map"},r.a.createElement("div",{className:"sidebarStyle"},r.a.createElement("div",null,"Arrests in ",["January","February","March","April","May","June","July","August","September","October","November","December"][D.getMonth()]," ",D.getFullYear())),r.a.createElement("div",{ref:function(e){return t=e},className:"mapContainer"})))}k.a.accessToken="pk.eyJ1IjoiY2FtaWxvZG9hIiwiYSI6ImNrNWJjbnNmcTB2em4zb3BrOGhpZjR3ZzIifQ.nCjfsuPE3tSayQ0O2z7u1Q";var A=a(31),T=a(32);function z(){return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement("div",{className:"about"},r.a.createElement("h1",{className:"header my-3 mt-5"},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:N.a,className:"about-logo",alt:"logo"})),r.a.createElement("p",{className:"header my-3"},"AI Melts ICE"),r.a.createElement("p",{className:"about-main"},"El pueblo unido jam\xe1s ser\xe1 vencido.")),r.a.createElement("main",{className:"about-main"},r.a.createElement(A.a,null,r.a.createElement(T.a,null,r.a.createElement(b.a,{sm:!0},r.a.createElement("p",null,r.a.createElement("a",{href:"/"},"AI Melts ICE")," is a web app designed to source and visualize predictions of ICE raids in the US by county. These predictions are generated by an LSTM neural network trained on data (2014 - 2018) from Syracuse's TRAC web API. Please keep in mind that any data shown past 2018 are predictions and may not be exact.")),r.a.createElement(b.a,{sm:!0},r.a.createElement("p",null,r.a.createElement("a",{href:"/"},"AI Melts ICE")," es una aplicaci\xf3n web dise\xf1ada para producir y visualizar predicciones de redadas de inmigrantes en los Estados Unidos por condado. Estas predicciones son generadas por una red neural LSTM basada en datos (2014 \u2013 2018) del web API TRAC de Syracuse. T\xe9ngase en cuenta que los datos despu\xe9s de 2018 son predicciones y pueden ser inexactos.")))))))}var L=a(47);function D(){var e=[["Prepare emergency plans","https://www.immigrantdefenseproject.org/emergency-preparedness/"],["Know your rights","https://www.immigrantdefenseproject.org/ice-home-and-community-arrests/"],["Learn more about ICE trends","https://www.immigrantdefenseproject.org/wp-content/uploads/ICEwatch-Trends-Report.pdf"],["Find safe community spaces","https://www.nolo.com/legal-encyclopedia/is-there-anywhere-i-m-safe-from-an-ice-arrest.html"],["Protect yourself during an immigration raid","https://www.aclutx.org/en/know-your-rights/how-protect-yourself-during-immigration-raid"],["Stay safe when ICE comes to your door","https://nationalimmigrationproject.org/iceWatch.html"]].map((function(e,t){return r.a.createElement(L.a.Item,{action:!0,key:"undocumented"+t,href:e[1],target:"blank"},r.a.createElement("h4",{className:"float-left"},e[0]))})),t=[["Find local options for protecting immigrants","https://www.ilrc.org/sites/default/files/resources/local_options-20161215.pdf"],["Help immigrants caught up in ICE raids","https://qz.com/1664310/how-to-help-immigrants-caught-up-in-ice-raids/"],["Tell congress to cut funding for ICE and CBP","https://www.afsc.org/action/cut-funding-ice-and-cbp"]].map((function(e,t){return r.a.createElement(L.a.Item,{action:!0,key:"ally"+t,href:e[1],target:"blank"},r.a.createElement("h4",{className:"float-left"},e[0]))}));return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement("div",{className:"my-2"},r.a.createElement(A.a,null,r.a.createElement(T.a,{className:"justify-content-md-center"},r.a.createElement(b.a,null,r.a.createElement("h3",{className:"safety-main my-3 mx-5 pull-left"},r.a.createElement("p",null,"Helpful links if you are undocumented:")),r.a.createElement("main",{className:"mx-5"},r.a.createElement(L.a,null,e)))))),r.a.createElement("div",{className:"my-5"},r.a.createElement(A.a,null,r.a.createElement(T.a,{className:"justify-content-md-center"},r.a.createElement(b.a,null,r.a.createElement("h3",{className:"safety-main my-3 mx-5"},r.a.createElement("p",null,"Helpful links if you are are an ally:")),r.a.createElement("main",{className:"m-3 mx-5"},r.a.createElement(L.a,null,t)))))))}var P=a(28);function J(){function e(e){return t.apply(this,arguments)}function t(){return(t=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=I+"/countydata/"+t.replace(" ","%20"),e.next=3,fetch(a).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){var t=e.data.map((function(e){return{x:new Date(e.date.split("-")[0],e.date.split("-")[1]),y:e.arrests}}));m(t)})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I+"/counties",e.next=3,fetch(t).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){h(e)})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=Object(n.useState)(null),s=Object(u.a)(c,2),l=s[0],m=s[1],d=Object(n.useState)({counties:["Accomack County, VA"]}),p=Object(u.a)(d,2),f=p[0],h=p[1],y=Object(n.useState)("Accomack County, VA"),g=Object(u.a)(y,2),v=g[0],w=g[1],j=Object(n.useState)(null),x=Object(u.a)(j,2),S=x[0],k=x[1],M=C();return Object(n.useEffect)((function(){!function(){a.apply(this,arguments)}(),e(v)}),[]),r.a.createElement("div",null,r.a.createElement(O,{counties:f,fetchcountydata:e,sethere:w}),null===l?r.a.createElement("header",{className:"body"},r.a.createElement("img",{src:N.a,className:"logo",alt:"logo"}),r.a.createElement("p",null,"ai.melts.ice"),r.a.createElement(E.a,{animation:"border",variant:"dark",role:"status"})):r.a.createElement(A.a,{fluid:!0},r.a.createElement(T.a,{className:"align-items-md-center justify-content-md-center"},r.a.createElement(b.a,null,r.a.createElement("div",{className:"sidebarStyle"},v),r.a.createElement("div",{className:"mt-5"},r.a.createElement(P.f,{xType:"time",height:M.height-.1*M.height-50,width:M.width-50},r.a.createElement(P.b,null),r.a.createElement(P.d,null),r.a.createElement(P.g,{title:"Arrests"}),r.a.createElement(P.e,null),r.a.createElement(P.c,{onValueMouseOver:function(e){return k(e)},onValueMouseOut:function(e){return k(null)},data:l,color:"#4285F4",size:2}),S?r.a.createElement(P.a,{value:S}):null))))))}function _(e){e.path;return r.a.createElement("div",{className:"App"},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/"},r.a.createElement(M,null)),r.a.createElement(m.a,{path:"/about"},r.a.createElement(z,null)),r.a.createElement(m.a,{path:"/safety"},r.a.createElement(D,null)),r.a.createElement(m.a,{path:"/county"},r.a.createElement(J,null))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(85);a(182);s.a.render(r.a.createElement(F.a,{basename:""},r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},45:function(e,t,a){e.exports=a.p+"static/media/logo512.ed261836.png"}},[[107,1,2]]]);
//# sourceMappingURL=main.ebf84036.chunk.js.map